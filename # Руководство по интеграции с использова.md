# Руководство по интеграции с использованием Datareon
В данном руководстве будут разобраны основы интеграции с использованием Datareon и разобран пример по настройке обмена данными справочника "Номенклатура" между двумя базами 1С.
## Навигация и создание проекта

После запуска Datareon на вкладке "Инструменты разработчика" отображается список созданных проектов. При необходимости можно создать новый с помощью File -> New -> ESB Project

![Картинка][image3]

Двойным нажатием по созданному проекту открывается окно аутентификации. По умолчанию в проекте существует 2 пользователя - Администратор и Наблюдатель.

Пароль для наблюдателя не установлен. Для Администратора по умолчанию установлен пароль "123456" (без кавычек)

![Картинка][image1]

После авторизации в проекте его значек станет зеленым, в квадратных скобках рядом с название проекта указан пользователь, под которым произведена авторизация. Проект можно развернуть и увидеть все его содержимое.

![Картинка][image2]

Сменив перспективу с помощью соответствующей кнопки в правом верхнем углу приложения с Datareon:Разработка на Datareon:Управление можно увидеть список подлюченных адаптеров, список пользователей проекта.

![Картинка][image4]

## Создание адаптера
### Адаптер 1С
Подключим существующую базу 1С к Datareon. Для этого нажмем File -> New -> Адаптер 1С. Откроется окно создания адаптера.

На первом шаге необходимо указать проект, которому будет пренадлежать данный адаптер и его название.

![Картинка][image5]

На втором шаге необходимо заполнить всю информацию о подключаемой базе:
* Имя сервера, на котором она расположена
* Имя базы
* Имя пользователя
* Пароль

Для корректной работы Datareon в базе должен быть создан отдельный пользователь.

![Картинка][image6]

На последнем шаге необходимо просто нажать кнопку "Finish"

![Картинка][image8]

После создания адаптера 1С необходимо дождаться подключения Datareon к базе. Это занимает около минуты. После этого можно открыть информацию о подключенном адаптере. Если напротив всех компонентов стоит статус "Ok" - подключение прошло успешно.

![Картинка][image9]

Вторую базу для обмена подключаем точно также.

## Создание класса сообщений
Любое сообщение должно иметь свою структуру, которая строго задается при помощи класса сообщений. 

На первом шаге необходимо указать проект, которому будет пренадлежать данный класс и его название. 

В данном случае это будет номенклатура.

![Картинка][image12]

После создания нового класса необходимо заполнить его структуру. Это можно сделать несколькими способами:

* Создать поля вручную

* Импортировать из базы 1С, подключенной к Datareon
![Картинка][image13]
![Картинка][image14]
![Картинка][image15]
* Импортировать структуру из файла XML, указав к нему путь

В результате после заполнения можно увидеть структуру класса сообщения и тип его полей.

![Картинка][image16]

## Создание маршрута сообщений
Сообщения передаются по алгоритму Отправитель -> Datareon -> Получатели

С помощью маршрутов необходимо настроить пути сообщений, а именно - какое сообщение на какой адаптер будет отправлено при выполнении заданных условий.

Только что созданный пустой маршрут:

![Картинка][image17]

Создадим блок "условие" передачи сообщения путем перетаскивания соответствующего блока на маршрут и добавим в него условие по классу сообщения. В данном случае будем сравнивать, что класс полученного сообщения равен созданному ранее классу номенклатуры.

![Картинка][image18]

При истинности условия будут выполняться действия, расположенные на ветке "1", в ином случае - на ветке "0"

Добавим получателя сообщения путем перетаскивания блока "Получатели" на ветку условия "1". Таким образом, на адаптеры, указанные в списке получателей, будет отправляться сообщение при выполнении созданного ранее условия. В данном примере сообщения будут отправляться в базы ERP_1 и ERP_2. По этой причине в получатели необходимо добавить базы ERP_1 и ERP_2.

![Картинка][image19]

## Создание обработчика входящих сообщений
После получения сообщения базой 1с будет выполнен код обработки сообщения, который располагается в обработчике данного класса сообщения. 

Есть два подхода к написанию кода обработчика со своими плюсами и минусами:

* Вызвать процедуру общего модуля, передав ей параметром XDTO объект.
* Расположить весь код в обработчике сообщений

Первый вариант позволяет проводить отладку средствами 1С, что недоступно во втором варианте, т.к. код обработчика сообщений в базе 1С вызывается с помощью метода Выполнить();

Второй вариант позволяет вносить изменения в код обработчика без необходимости обновления базы 1С.

Окно создания обработчика:

![Картинка][image20]

После создания обработчика необходимо указать для каких классов сообщений он будет вызываться и направление интеграции (Обработчик вызывается при отправке сообщения или при получении)

![Картинка][image21]

Также необходимо на вкладке "Приминение шаблона" указать, для каких адаптеров он будет выполняться.

![Картинка][image22]

Для рассматриваемой задачи необходимо создать обработчих входящих сообщений со следующим кодом:
<details>
<summary>Нажмите, чтобы развернуть</summary>
<code> 
//Определение переменных
ПустойИдентификатор = "00000000-0000-0000-0000-000000000000";

//Получение тела сообщения
xdtoОбъект = сшпОбщегоНазначения.ПолучитьОбъектXDTO(ФорматСообщения, ОбъектСообщение.Body);

//Поиск объекта
ЗначениеДляПоиска = xdtoОбъект.Код;
новыйОбъект = Справочники.Номенклатура.НайтиПоКоду(ЗначениеДляПоиска);

Если новыйОбъект = Неопределено ИЛИ новыйОбъект.Пустая() Тогда
		новыйОбъект = Справочники.Номенклатура.СоздатьЭлемент();
Иначе
		новыйОбъект = новыйОбъект.ПолучитьОбъект();
КонецЕсли;


////////////////////////////////////////////////////////////////////////////////
//Реквизиты шапки

//Родитель
Значение = xdtoОбъект.Получить("Родитель");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.Родитель = Справочники.Номенклатура.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.Родитель = Справочники.Номенклатура.ПустаяСсылка();
КонецЕсли;

//Наименование
новыйОбъект.Наименование = xdtoОбъект.Получить("Наименование");

//Код
новыйОбъект.Код = xdtoОбъект.Получить("Код");

//ЕдиницаИзмерения
Значение = xdtoОбъект.Получить("ЕдиницаИзмерения");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПустаяСсылка();
КонецЕсли;

//Артикул
новыйОбъект.Артикул = xdtoОбъект.Получить("Артикул");

//ВариантОформленияПродажи
Значение = xdtoОбъект.Получить("ВариантОформленияПродажи");
Если ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ВариантОформленияПродажи = XMLЗначение(Тип("ПеречислениеСсылка.ВариантыОформленияПродажи"), Значение);
Иначе
    новыйОбъект.ВариантОформленияПродажи = Перечисления.ВариантыОформленияПродажи.ПустаяСсылка();
КонецЕсли;

//ВесЕдиницаИзмерения
Значение = xdtoОбъект.Получить("ВесЕдиницаИзмерения");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ВесЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ВесЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПустаяСсылка();
КонецЕсли;

//ВесЗнаменатель
новыйОбъект.ВесЗнаменатель = xdtoОбъект.Получить("ВесЗнаменатель");

//ВесИспользовать
новыйОбъект.ВесИспользовать = xdtoОбъект.Получить("ВесИспользовать");

//ВесМожноУказыватьВДокументах
новыйОбъект.ВесМожноУказыватьВДокументах = xdtoОбъект.Получить("ВесМожноУказыватьВДокументах");

//ВесЧислитель
новыйОбъект.ВесЧислитель = xdtoОбъект.Получить("ВесЧислитель");

//ВестиУчетПоГТД
новыйОбъект.ВестиУчетПоГТД = xdtoОбъект.Получить("ВестиУчетПоГТД");

//ВестиУчетСертификатовНоменклатуры
новыйОбъект.ВестиУчетСертификатовНоменклатуры = xdtoОбъект.Получить("ВестиУчетСертификатовНоменклатуры");

//ВидАлкогольнойПродукции
Значение = xdtoОбъект.Получить("ВидАлкогольнойПродукции");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ВидАлкогольнойПродукции = Справочники.ВидыАлкогольнойПродукции.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ВидАлкогольнойПродукции = Справочники.ВидыАлкогольнойПродукции.ПустаяСсылка();
КонецЕсли;

//ВидНоменклатуры
Значение = xdtoОбъект.Получить("ВидНоменклатуры");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ВидНоменклатуры = Справочники.ВидыНоменклатуры.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ВидНоменклатуры = Справочники.ВидыНоменклатуры.ПустаяСсылка();
КонецЕсли;

//ГруппаДоступа
Значение = xdtoОбъект.Получить("ГруппаДоступа");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ГруппаДоступа = Справочники.ГруппыДоступаНоменклатуры.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ГруппаДоступа = Справочники.ГруппыДоступаНоменклатуры.ПустаяСсылка();
КонецЕсли;

//АлкогольнаяПродукция
новыйОбъект.АлкогольнаяПродукция = xdtoОбъект.Получить("АлкогольнаяПродукция");

//НаименованиеПолное
новыйОбъект.НаименованиеПолное = xdtoОбъект.Получить("НаименованиеПолное");

//ЕдиницаИзмеренияСрокаГодности
Значение = xdtoОбъект.Получить("ЕдиницаИзмеренияСрокаГодности");
Если ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ЕдиницаИзмеренияСрокаГодности = XMLЗначение(Тип("ПеречислениеСсылка.ЕдиницыИзмеренияВремени"), Значение);
Иначе
    новыйОбъект.ЕдиницаИзмеренияСрокаГодности = Перечисления.ЕдиницыИзмеренияВремени.ПустаяСсылка();
КонецЕсли;

//ЕстьТоварыДругогоКачества
новыйОбъект.ЕстьТоварыДругогоКачества = xdtoОбъект.Получить("ЕстьТоварыДругогоКачества");

//ИмпортнаяАлкогольнаяПродукция
новыйОбъект.ИмпортнаяАлкогольнаяПродукция = xdtoОбъект.Получить("ИмпортнаяАлкогольнаяПродукция");

//ДлинаЕдиницаИзмерения
Значение = xdtoОбъект.Получить("ДлинаЕдиницаИзмерения");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ДлинаЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ДлинаЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПустаяСсылка();
КонецЕсли;

//ДлинаЗнаменатель
новыйОбъект.ДлинаЗнаменатель = xdtoОбъект.Получить("ДлинаЗнаменатель");

//ДлинаИспользовать
новыйОбъект.ДлинаИспользовать = xdtoОбъект.Получить("ДлинаИспользовать");

//ДлинаМожноУказыватьВДокументах
новыйОбъект.ДлинаМожноУказыватьВДокументах = xdtoОбъект.Получить("ДлинаМожноУказыватьВДокументах");

//ДлинаЧислитель
новыйОбъект.ДлинаЧислитель = xdtoОбъект.Получить("ДлинаЧислитель");

//ИспользованиеХарактеристик
Значение = xdtoОбъект.Получить("ИспользованиеХарактеристик");
Если ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ИспользованиеХарактеристик = XMLЗначение(Тип("ПеречислениеСсылка.ВариантыИспользованияХарактеристикНоменклатуры"), Значение);
Иначе
    новыйОбъект.ИспользованиеХарактеристик = Перечисления.ВариантыИспользованияХарактеристикНоменклатуры.ПустаяСсылка();
КонецЕсли;

//ИспользоватьИндивидуальныйШаблонЦенника
новыйОбъект.ИспользоватьИндивидуальныйШаблонЦенника = xdtoОбъект.Получить("ИспользоватьИндивидуальныйШаблонЦенника");

//ИспользоватьИндивидуальныйШаблонЭтикетки
новыйОбъект.ИспользоватьИндивидуальныйШаблонЭтикетки = xdtoОбъект.Получить("ИспользоватьИндивидуальныйШаблонЭтикетки");

//ИспользоватьУпаковки
новыйОбъект.ИспользоватьУпаковки = xdtoОбъект.Получить("ИспользоватьУпаковки");

//Качество
Значение = xdtoОбъект.Получить("Качество");
Если ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.Качество = XMLЗначение(Тип("ПеречислениеСсылка.ГрадацииКачества"), Значение);
Иначе
    новыйОбъект.Качество = Перечисления.ГрадацииКачества.ПустаяСсылка();
КонецЕсли;

//КодДляПоиска
новыйОбъект.КодДляПоиска = xdtoОбъект.Получить("КодДляПоиска");

//Марка
Значение = xdtoОбъект.Получить("Марка");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.Марка = Справочники.Марки.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.Марка = Справочники.Марки.ПустаяСсылка();
КонецЕсли;

//НаборУпаковок
Значение = xdtoОбъект.Получить("НаборУпаковок");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.НаборУпаковок = Справочники.НаборыУпаковок.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.НаборУпаковок = Справочники.НаборыУпаковок.ПустаяСсылка();
КонецЕсли;

//ГруппаФинансовогоУчета
Значение = xdtoОбъект.Получить("ГруппаФинансовогоУчета");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ГруппаФинансовогоУчета = Справочники.ГруппыФинансовогоУчетаНоменклатуры.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ГруппаФинансовогоУчета = Справочники.ГруппыФинансовогоУчетаНоменклатуры.ПустаяСсылка();
КонецЕсли;

//НоменклатураМногооборотнаяТара
Значение = xdtoОбъект.Получить("НоменклатураМногооборотнаяТара");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.НоменклатураМногооборотнаяТара = Справочники.Номенклатура.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.НоменклатураМногооборотнаяТара = Справочники.Номенклатура.ПустаяСсылка();
КонецЕсли;

//ОбъемДАЛ
новыйОбъект.ОбъемДАЛ = xdtoОбъект.Получить("ОбъемДАЛ");

//Описание
новыйОбъект.Описание = xdtoОбъект.Получить("Описание");

//ПодакцизныйТовар
новыйОбъект.ПодакцизныйТовар = xdtoОбъект.Получить("ПодакцизныйТовар");

//ПоставляетсяВМногооборотнойТаре
новыйОбъект.ПоставляетсяВМногооборотнойТаре = xdtoОбъект.Получить("ПоставляетсяВМногооборотнойТаре");

//Производитель
Значение = xdtoОбъект.Получить("Производитель");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.Производитель = Справочники.Производители.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.Производитель = Справочники.Производители.ПустаяСсылка();
КонецЕсли;

//ПроизводительИмпортерКонтрагент
Значение = xdtoОбъект.Получить("ПроизводительИмпортерКонтрагент");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ПроизводительИмпортерКонтрагент = Справочники.Контрагенты.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ПроизводительИмпортерКонтрагент = Справочники.Контрагенты.ПустаяСсылка();
КонецЕсли;

//СкладскаяГруппа
Значение = xdtoОбъект.Получить("СкладскаяГруппа");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.СкладскаяГруппа = Справочники.СкладскиеГруппыНоменклатуры.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.СкладскаяГруппа = Справочники.СкладскиеГруппыНоменклатуры.ПустаяСсылка();
КонецЕсли;

//СрокГодности
новыйОбъект.СрокГодности = xdtoОбъект.Получить("СрокГодности");

//УдалитьСтавкаНДС
Значение = xdtoОбъект.Получить("УдалитьСтавкаНДС");
Если ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.УдалитьСтавкаНДС = XMLЗначение(Тип("ПеречислениеСсылка.СтавкиНДС"), Значение);
Иначе
    новыйОбъект.УдалитьСтавкаНДС = Перечисления.СтавкиНДС.ПустаяСсылка();
КонецЕсли;

//СтавкаНДС
Значение = xdtoОбъект.Получить("СтавкаНДС");
Если ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.СтавкаНДС = XMLЗначение(Тип("ПеречислениеСсылка.СтавкиНДС"), Значение);
Иначе
    новыйОбъект.СтавкаНДС = Перечисления.СтавкиНДС.ПустаяСсылка();
КонецЕсли;

//ТипНоменклатуры
Значение = xdtoОбъект.Получить("ТипНоменклатуры");
Если ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ТипНоменклатуры = XMLЗначение(Тип("ПеречислениеСсылка.ТипыНоменклатуры"), Значение);
Иначе
    новыйОбъект.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.ПустаяСсылка();
КонецЕсли;

//ТоварнаяКатегория
Значение = xdtoОбъект.Получить("ТоварнаяКатегория");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ТоварнаяКатегория = Справочники.ТоварныеКатегории.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ТоварнаяКатегория = Справочники.ТоварныеКатегории.ПустаяСсылка();
КонецЕсли;

//ФайлКартинки
Значение = xdtoОбъект.Получить("ФайлКартинки");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ФайлКартинки = Справочники.НоменклатураПрисоединенныеФайлы.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ФайлКартинки = Справочники.НоменклатураПрисоединенныеФайлы.ПустаяСсылка();
КонецЕсли;

//ФайлОписанияДляСайта
Значение = xdtoОбъект.Получить("ФайлОписанияДляСайта");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ФайлОписанияДляСайта = Справочники.НоменклатураПрисоединенныеФайлы.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ФайлОписанияДляСайта = Справочники.НоменклатураПрисоединенныеФайлы.ПустаяСсылка();
КонецЕсли;

//ОбъемЕдиницаИзмерения
Значение = xdtoОбъект.Получить("ОбъемЕдиницаИзмерения");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ОбъемЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ОбъемЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПустаяСсылка();
КонецЕсли;

//ОбъемЗнаменатель
новыйОбъект.ОбъемЗнаменатель = xdtoОбъект.Получить("ОбъемЗнаменатель");

//ОбъемИспользовать
новыйОбъект.ОбъемИспользовать = xdtoОбъект.Получить("ОбъемИспользовать");

//ОбъемМожноУказыватьВДокументах
новыйОбъект.ОбъемМожноУказыватьВДокументах = xdtoОбъект.Получить("ОбъемМожноУказыватьВДокументах");

//ОбъемЧислитель
новыйОбъект.ОбъемЧислитель = xdtoОбъект.Получить("ОбъемЧислитель");

//ХарактеристикаМногооборотнаяТара
Значение = xdtoОбъект.Получить("ХарактеристикаМногооборотнаяТара");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ХарактеристикаМногооборотнаяТара = Справочники.ХарактеристикиНоменклатуры.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ХарактеристикаМногооборотнаяТара = Справочники.ХарактеристикиНоменклатуры.ПустаяСсылка();
КонецЕсли;

//ПлощадьЕдиницаИзмерения
Значение = xdtoОбъект.Получить("ПлощадьЕдиницаИзмерения");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ПлощадьЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ПлощадьЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПустаяСсылка();
КонецЕсли;

//ПлощадьЗнаменатель
новыйОбъект.ПлощадьЗнаменатель = xdtoОбъект.Получить("ПлощадьЗнаменатель");

//СхемаОбеспечения
Значение = xdtoОбъект.Получить("СхемаОбеспечения");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.СхемаОбеспечения = Справочники.СхемыОбеспечения.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.СхемаОбеспечения = Справочники.СхемыОбеспечения.ПустаяСсылка();
КонецЕсли;

//СпособОбеспеченияПотребностей
Значение = xdtoОбъект.Получить("СпособОбеспеченияПотребностей");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.СпособОбеспеченияПотребностей = Справочники.СпособыОбеспеченияПотребностей.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.СпособОбеспеченияПотребностей = Справочники.СпособыОбеспеченияПотребностей.ПустаяСсылка();
КонецЕсли;

//ПлощадьИспользовать
новыйОбъект.ПлощадьИспользовать = xdtoОбъект.Получить("ПлощадьИспользовать");

//ПлощадьМожноУказыватьВДокументах
новыйОбъект.ПлощадьМожноУказыватьВДокументах = xdtoОбъект.Получить("ПлощадьМожноУказыватьВДокументах");

//ПлощадьЧислитель
новыйОбъект.ПлощадьЧислитель = xdtoОбъект.Получить("ПлощадьЧислитель");

//ЦеноваяГруппа
Значение = xdtoОбъект.Получить("ЦеноваяГруппа");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ЦеноваяГруппа = Справочники.ЦеновыеГруппы.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ЦеноваяГруппа = Справочники.ЦеновыеГруппы.ПустаяСсылка();
КонецЕсли;

//ШаблонЦенника
Значение = xdtoОбъект.Получить("ШаблонЦенника");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ШаблонЦенника = Справочники.ШаблоныЭтикетокИЦенников.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ШаблонЦенника = Справочники.ШаблоныЭтикетокИЦенников.ПустаяСсылка();
КонецЕсли;

//ЕдиницаДляОтчетов
Значение = xdtoОбъект.Получить("ЕдиницаДляОтчетов");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ЕдиницаДляОтчетов = Справочники.УпаковкиЕдиницыИзмерения.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ЕдиницаДляОтчетов = Справочники.УпаковкиЕдиницыИзмерения.ПустаяСсылка();
КонецЕсли;

//КоэффициентЕдиницыДляОтчетов
новыйОбъект.КоэффициентЕдиницыДляОтчетов = xdtoОбъект.Получить("КоэффициентЕдиницыДляОтчетов");

//ШаблонЭтикетки
Значение = xdtoОбъект.Получить("ШаблонЭтикетки");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ШаблонЭтикетки = Справочники.ШаблоныЭтикетокИЦенников.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ШаблонЭтикетки = Справочники.ШаблоныЭтикетокИЦенников.ПустаяСсылка();
КонецЕсли;

//СезоннаяГруппа
Значение = xdtoОбъект.Получить("СезоннаяГруппа");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.СезоннаяГруппа = Справочники.СезонныеГруппы.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.СезоннаяГруппа = Справочники.СезонныеГруппы.ПустаяСсылка();
КонецЕсли;

//КоллекцияНоменклатуры
Значение = xdtoОбъект.Получить("КоллекцияНоменклатуры");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.КоллекцияНоменклатуры = Справочники.КоллекцииНоменклатуры.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.КоллекцияНоменклатуры = Справочники.КоллекцииНоменклатуры.ПустаяСсылка();
КонецЕсли;

//Принципал
Значение = xdtoОбъект.Получить("Принципал");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.Принципал = Справочники.Организации.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.Принципал = Справочники.Организации.ПустаяСсылка();
КонецЕсли;

//Контрагент
Значение = xdtoОбъект.Получить("Контрагент");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.Контрагент = Справочники.Организации.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.Контрагент = Справочники.Организации.ПустаяСсылка();
КонецЕсли;

//РейтингПродаж
Значение = xdtoОбъект.Получить("РейтингПродаж");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.РейтингПродаж = Справочники.РейтингиПродажНоменклатуры.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.РейтингПродаж = Справочники.РейтингиПродажНоменклатуры.ПустаяСсылка();
КонецЕсли;

//ОбособленнаяЗакупкаПродажа
новыйОбъект.ОбособленнаяЗакупкаПродажа = xdtoОбъект.Получить("ОбособленнаяЗакупкаПродажа");

//ГруппаАналитическогоУчета
Значение = xdtoОбъект.Получить("ГруппаАналитическогоУчета");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ГруппаАналитическогоУчета = Справочники.ГруппыАналитическогоУчетаНоменклатуры.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ГруппаАналитическогоУчета = Справочники.ГруппыАналитическогоУчетаНоменклатуры.ПустаяСсылка();
КонецЕсли;

//КодТНВЭД
Значение = xdtoОбъект.Получить("КодТНВЭД");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.КодТНВЭД = Справочники.КлассификаторТНВЭД.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.КодТНВЭД = Справочники.КлассификаторТНВЭД.ПустаяСсылка();
КонецЕсли;

//КодОКВЭД
Значение = xdtoОбъект.Получить("КодОКВЭД");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.КодОКВЭД = Справочники.КлассификаторВидовЭкономическойДеятельности.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.КодОКВЭД = Справочники.КлассификаторВидовЭкономическойДеятельности.ПустаяСсылка();
КонецЕсли;

//КодОКП
Значение = xdtoОбъект.Получить("КодОКП");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.КодОКП = Справочники.ОбщероссийскийКлассификаторПродукции.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.КодОКП = Справочники.ОбщероссийскийКлассификаторПродукции.ПустаяСсылка();
КонецЕсли;

//ОблагаетсяНДПИПоПроцентнойСтавке
новыйОбъект.ОблагаетсяНДПИПоПроцентнойСтавке = xdtoОбъект.Получить("ОблагаетсяНДПИПоПроцентнойСтавке");

//ВладелецСерий
Значение = xdtoОбъект.Получить("ВладелецСерий");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ВладелецСерий = Справочники.ВидыНоменклатуры.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ВладелецСерий = Справочники.ВидыНоменклатуры.ПустаяСсылка();
КонецЕсли;

//ВладелецХарактеристик
Значение = xdtoОбъект.Получить("ВладелецХарактеристик");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ВладелецХарактеристик = Справочники.ВидыНоменклатуры.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ВладелецХарактеристик = Справочники.ВидыНоменклатуры.ПустаяСсылка();
КонецЕсли;

//ВладелецТоварныхКатегорий
Значение = xdtoОбъект.Получить("ВладелецТоварныхКатегорий");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ВладелецТоварныхКатегорий = Справочники.ВидыНоменклатуры.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ВладелецТоварныхКатегорий = Справочники.ВидыНоменклатуры.ПустаяСсылка();
КонецЕсли;

//Крепость
новыйОбъект.Крепость = xdtoОбъект.Получить("Крепость");

//ОсобенностьУчета
Значение = xdtoОбъект.Получить("ОсобенностьУчета");
Если ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ОсобенностьУчета = XMLЗначение(Тип("ПеречислениеСсылка.ОсобенностиУчетаНоменклатуры"), Значение);
Иначе
    новыйОбъект.ОсобенностьУчета = Перечисления.ОсобенностиУчетаНоменклатуры.ПустаяСсылка();
КонецЕсли;

//ПродукцияМаркируемаяДляГИСМ
новыйОбъект.ПродукцияМаркируемаяДляГИСМ = xdtoОбъект.Получить("ПродукцияМаркируемаяДляГИСМ");

//КиЗГИСМ
новыйОбъект.КиЗГИСМ = xdtoОбъект.Получить("КиЗГИСМ");

//КиЗГИСМВид
Значение = xdtoОбъект.Получить("КиЗГИСМВид");
Если ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.КиЗГИСМВид = XMLЗначение(Тип("ПеречислениеСсылка.ВидыКиЗГИСМ"), Значение);
Иначе
    новыйОбъект.КиЗГИСМВид = Перечисления.ВидыКиЗГИСМ.ПустаяСсылка();
КонецЕсли;

//КиЗГИСМСпособВыпускаВОборот
Значение = xdtoОбъект.Получить("КиЗГИСМСпособВыпускаВОборот");
Если ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.КиЗГИСМСпособВыпускаВОборот = XMLЗначение(Тип("ПеречислениеСсылка.СпособыВыпускаВОборотГИСМ"), Значение);
Иначе
    новыйОбъект.КиЗГИСМСпособВыпускаВОборот = Перечисления.СпособыВыпускаВОборотГИСМ.ПустаяСсылка();
КонецЕсли;

//КиЗГИСМGTIN
новыйОбъект.КиЗГИСМGTIN = xdtoОбъект.Получить("КиЗГИСМGTIN");

//КиЗГИСМРазмер
Значение = xdtoОбъект.Получить("КиЗГИСМРазмер");
Если ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.КиЗГИСМРазмер = XMLЗначение(Тип("ПеречислениеСсылка.РазмерыКиЗГИСМ"), Значение);
Иначе
    новыйОбъект.КиЗГИСМРазмер = Перечисления.РазмерыКиЗГИСМ.ПустаяСсылка();
КонецЕсли;

//ПодконтрольнаяПродукцияВЕТИС
новыйОбъект.ПодконтрольнаяПродукцияВЕТИС = xdtoОбъект.Получить("ПодконтрольнаяПродукцияВЕТИС");

//АлкогольнаяПродукцияВоВскрытойТаре
новыйОбъект.АлкогольнаяПродукцияВоВскрытойТаре = xdtoОбъект.Получить("АлкогольнаяПродукцияВоВскрытойТаре");

//КодРаздел7ДекларацииНДС
Значение = xdtoОбъект.Получить("КодРаздел7ДекларацииНДС");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.КодРаздел7ДекларацииНДС = Справочники.КодыОперацийРаздела7ДекларацииПоНДС.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.КодРаздел7ДекларацииНДС = Справочники.КодыОперацийРаздела7ДекларацииПоНДС.ПустаяСсылка();
КонецЕсли;

//ОблагаетсяНДСУПокупателя
новыйОбъект.ОблагаетсяНДСУПокупателя = xdtoОбъект.Получить("ОблагаетсяНДСУПокупателя");

//КодОКВЭД2
Значение = xdtoОбъект.Получить("КодОКВЭД2");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.КодОКВЭД2 = Справочники.КлассификаторОКВЭД2.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.КодОКВЭД2 = Справочники.КлассификаторОКВЭД2.ПустаяСсылка();
КонецЕсли;

//КодОКПД2
Значение = xdtoОбъект.Получить("КодОКПД2");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.КодОКПД2 = Справочники.КлассификаторОКПД2.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.КодОКПД2 = Справочники.КлассификаторОКПД2.ПустаяСсылка();
КонецЕсли;

//УдалитьТабачнаяПродукция
новыйОбъект.УдалитьТабачнаяПродукция = xdtoОбъект.Получить("УдалитьТабачнаяПродукция");

//УдалитьОбувнаяПродукция
новыйОбъект.УдалитьОбувнаяПродукция = xdtoОбъект.Получить("УдалитьОбувнаяПродукция");

//КодВидаНоменклатурнойКлассификации
новыйОбъект.КодВидаНоменклатурнойКлассификации = xdtoОбъект.Получить("КодВидаНоменклатурнойКлассификации");

//НаименованиеВидаНоменклатурнойКлассификации
новыйОбъект.НаименованиеВидаНоменклатурнойКлассификации = xdtoОбъект.Получить("НаименованиеВидаНоменклатурнойКлассификации");

//ЕдиницаИзмеренияТНВЭД
Значение = xdtoОбъект.Получить("ЕдиницаИзмеренияТНВЭД");
Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
    новыйОбъект.ЕдиницаИзмеренияТНВЭД = Справочники.УпаковкиЕдиницыИзмерения.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
Иначе
    новыйОбъект.ЕдиницаИзмеренияТНВЭД = Справочники.УпаковкиЕдиницыИзмерения.ПустаяСсылка();
КонецЕсли;

//кс_IDНоменклатуры
новыйОбъект.кс_IDНоменклатуры = xdtoОбъект.Получить("кс_IDНоменклатуры");


////////////////////////////////////////////////////////////////////////////////
//Табличные части


//Табличная часть ДополнительныеРеквизиты
новыйОбъект.ДополнительныеРеквизиты.Очистить();
текТаблица = xdtoОбъект.ДополнительныеРеквизиты.Последовательность();
Для Инд = 0 По текТаблица.Количество()-1 Цикл
		xdtoСтрока= текТаблица.ПолучитьЗначение(Инд);
		текСтрока = новыйОбъект.ДополнительныеРеквизиты.Добавить();

		//Свойство
		Значение = xdtoСтрока.Получить("Свойство");
		Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
		    текСтрока.Свойство = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
		Иначе
		    текСтрока.Свойство = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.ПустаяСсылка();
		КонецЕсли;

		//Значение
		Значение = xdtoСтрока.Получить("Значение");
		Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
		    текСтрока.Значение = Справочники.ПрофессииРабочих.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
		Иначе
		    текСтрока.Значение = Справочники.ПрофессииРабочих.ПустаяСсылка();
		КонецЕсли;

		//ТекстоваяСтрока
		текСтрока.ТекстоваяСтрока = xdtoСтрока.Получить("ТекстоваяСтрока");
КонецЦикла;


//Табличная часть ДрагоценныеМатериалы
новыйОбъект.ДрагоценныеМатериалы.Очистить();
текТаблица = xdtoОбъект.ДрагоценныеМатериалы.Последовательность();
Для Инд = 0 По текТаблица.Количество()-1 Цикл
		xdtoСтрока= текТаблица.ПолучитьЗначение(Инд);
		текСтрока = новыйОбъект.ДрагоценныеМатериалы.Добавить();

		//ДрагоценныйМатериал
		Значение = xdtoСтрока.Получить("ДрагоценныйМатериал");
		Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
		    текСтрока.ДрагоценныйМатериал = Справочники.ДрагоценныеМатериалы.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
		Иначе
		    текСтрока.ДрагоценныйМатериал = Справочники.ДрагоценныеМатериалы.ПустаяСсылка();
		КонецЕсли;

		//Количество
		текСтрока.Количество = xdtoСтрока.Получить("Количество");

		//ЕдиницаИзмерения
		Значение = xdtoСтрока.Получить("ЕдиницаИзмерения");
		Если Значение <> ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда
		    текСтрока.ЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));
		Иначе
		    текСтрока.ЕдиницаИзмерения = Справочники.УпаковкиЕдиницыИзмерения.ПустаяСсылка();
		КонецЕсли;

		//Расположение
		Значение = xdtoСтрока.Получить("Расположение");
		Если ЗначениеЗаполнено(Значение) Тогда
		    текСтрока.Расположение = XMLЗначение(Тип("ПеречислениеСсылка.РасположениеДрагоценныхКамней"), Значение);
		Иначе
		    текСтрока.Расположение = Перечисления.РасположениеДрагоценныхКамней.ПустаяСсылка();
		КонецЕсли;

		//Комментарий
		текСтрока.Комментарий = xdtoСтрока.Получить("Комментарий");
КонецЦикла;


//Запись объекта
новыйОбъект.ДополнительныеСвойства.Вставить("СШПНеобрабатывать", Истина);
новыйОбъект.Записать(); </code>
</details>

## Создание обработчика исходящих событий

За создание сообщений, которые будут отправлены в Datareon отвечают обработчики, у которых поле "Направление интеграции" имеет значение "Исходящая".

Пример кода, использованного для выгрузки номенклатуры в рамках текущей задачи:

<details>
<summary>Нажмите, чтобы развернуть</summary>
<code>РезультатОбработки.ClassId = 76;
Данные = Новый Структура;

Данные.Вставить("Родитель", ОбъектОбработки.Родитель);
Данные.Вставить("Наименование", ОбъектОбработки.Наименование);
Данные.Вставить("Код", ОбъектОбработки.Код);
Данные.Вставить("ПометкаУдаления", ОбъектОбработки.ПометкаУдаления);
Данные.Вставить("ЕдиницаИзмерения", ОбъектОбработки.ЕдиницаИзмерения);
Данные.Вставить("Артикул", ОбъектОбработки.Артикул);
Данные.Вставить("ВариантОформленияПродажи", ОбъектОбработки.ВариантОформленияПродажи);
Данные.Вставить("ВесЕдиницаИзмерения", ОбъектОбработки.ВесЕдиницаИзмерения);
Данные.Вставить("ВесЗнаменатель", ОбъектОбработки.ВесЗнаменатель);
Данные.Вставить("ВесИспользовать", ОбъектОбработки.ВесИспользовать);
Данные.Вставить("ВесМожноУказыватьВДокументах", ОбъектОбработки.ВесМожноУказыватьВДокументах);
Данные.Вставить("ВесЧислитель", ОбъектОбработки.ВесЧислитель);
Данные.Вставить("ВестиУчетПоГТД", ОбъектОбработки.ВестиУчетПоГТД);
Данные.Вставить("ВестиУчетСертификатовНоменклатуры", ОбъектОбработки.ВестиУчетСертификатовНоменклатуры);
Данные.Вставить("ВидАлкогольнойПродукции", ОбъектОбработки.ВидАлкогольнойПродукции);
Данные.Вставить("ВидНоменклатуры", ОбъектОбработки.ВидНоменклатуры);
Данные.Вставить("ГруппаДоступа", ОбъектОбработки.ГруппаДоступа);
Данные.Вставить("АлкогольнаяПродукция", ОбъектОбработки.АлкогольнаяПродукция);
Данные.Вставить("НаименованиеПолное", ОбъектОбработки.НаименованиеПолное);
Данные.Вставить("ЕдиницаИзмеренияСрокаГодности", ОбъектОбработки.ЕдиницаИзмеренияСрокаГодности);
Данные.Вставить("ЕстьТоварыДругогоКачества", ОбъектОбработки.ЕстьТоварыДругогоКачества);
Данные.Вставить("ИмпортнаяАлкогольнаяПродукция", ОбъектОбработки.ИмпортнаяАлкогольнаяПродукция);
Данные.Вставить("ДлинаЕдиницаИзмерения", ОбъектОбработки.ДлинаЕдиницаИзмерения);
Данные.Вставить("ДлинаЗнаменатель", ОбъектОбработки.ДлинаЗнаменатель);
Данные.Вставить("ДлинаИспользовать", ОбъектОбработки.ДлинаИспользовать);
Данные.Вставить("ДлинаМожноУказыватьВДокументах", ОбъектОбработки.ДлинаМожноУказыватьВДокументах);
Данные.Вставить("ДлинаЧислитель", ОбъектОбработки.ДлинаЧислитель);
Данные.Вставить("ИспользованиеХарактеристик", ОбъектОбработки.ИспользованиеХарактеристик);
Данные.Вставить("ИспользоватьИндивидуальныйШаблонЦенника", ОбъектОбработки.ИспользоватьИндивидуальныйШаблонЦенника);
Данные.Вставить("ИспользоватьИндивидуальныйШаблонЭтикетки", ОбъектОбработки.ИспользоватьИндивидуальныйШаблонЭтикетки);
Данные.Вставить("ИспользоватьУпаковки", ОбъектОбработки.ИспользоватьУпаковки);
Данные.Вставить("Качество", ОбъектОбработки.Качество);
Данные.Вставить("КодДляПоиска", ОбъектОбработки.КодДляПоиска);
Данные.Вставить("Марка", ОбъектОбработки.Марка);
Данные.Вставить("НаборУпаковок", ОбъектОбработки.НаборУпаковок);
Данные.Вставить("ГруппаФинансовогоУчета", ОбъектОбработки.ГруппаФинансовогоУчета);
Данные.Вставить("НоменклатураМногооборотнаяТара", ОбъектОбработки.НоменклатураМногооборотнаяТара);
Данные.Вставить("ОбъемДАЛ", ОбъектОбработки.ОбъемДАЛ);
Данные.Вставить("Описание", ОбъектОбработки.Описание);
Данные.Вставить("ПодакцизныйТовар", ОбъектОбработки.ПодакцизныйТовар);
Данные.Вставить("ПоставляетсяВМногооборотнойТаре", ОбъектОбработки.ПоставляетсяВМногооборотнойТаре);
Данные.Вставить("Производитель", ОбъектОбработки.Производитель);
Данные.Вставить("ПроизводительИмпортерКонтрагент", ОбъектОбработки.ПроизводительИмпортерКонтрагент);
Данные.Вставить("СкладскаяГруппа", ОбъектОбработки.СкладскаяГруппа);
Данные.Вставить("СрокГодности", ОбъектОбработки.СрокГодности);
Данные.Вставить("УдалитьСтавкаНДС", ОбъектОбработки.УдалитьСтавкаНДС);
Данные.Вставить("СтавкаНДС", ОбъектОбработки.СтавкаНДС);
Данные.Вставить("ТипНоменклатуры", ОбъектОбработки.ТипНоменклатуры);
Данные.Вставить("ТоварнаяКатегория", ОбъектОбработки.ТоварнаяКатегория);
Данные.Вставить("ФайлКартинки", ОбъектОбработки.ФайлКартинки);
Данные.Вставить("ФайлОписанияДляСайта", ОбъектОбработки.ФайлОписанияДляСайта);
Данные.Вставить("ОбъемЕдиницаИзмерения", ОбъектОбработки.ОбъемЕдиницаИзмерения);
Данные.Вставить("ОбъемЗнаменатель", ОбъектОбработки.ОбъемЗнаменатель);
Данные.Вставить("ОбъемИспользовать", ОбъектОбработки.ОбъемИспользовать);
Данные.Вставить("ОбъемМожноУказыватьВДокументах", ОбъектОбработки.ОбъемМожноУказыватьВДокументах);
Данные.Вставить("ОбъемЧислитель", ОбъектОбработки.ОбъемЧислитель);
Данные.Вставить("ХарактеристикаМногооборотнаяТара", ОбъектОбработки.ХарактеристикаМногооборотнаяТара);
Данные.Вставить("ПлощадьЕдиницаИзмерения", ОбъектОбработки.ПлощадьЕдиницаИзмерения);
Данные.Вставить("ПлощадьЗнаменатель", ОбъектОбработки.ПлощадьЗнаменатель);
Данные.Вставить("СхемаОбеспечения", ОбъектОбработки.СхемаОбеспечения);
Данные.Вставить("СпособОбеспеченияПотребностей", ОбъектОбработки.СпособОбеспеченияПотребностей);
Данные.Вставить("ПлощадьИспользовать", ОбъектОбработки.ПлощадьИспользовать);
Данные.Вставить("ПлощадьМожноУказыватьВДокументах", ОбъектОбработки.ПлощадьМожноУказыватьВДокументах);
Данные.Вставить("ПлощадьЧислитель", ОбъектОбработки.ПлощадьЧислитель);
Данные.Вставить("ЦеноваяГруппа", ОбъектОбработки.ЦеноваяГруппа);
Данные.Вставить("ШаблонЦенника", ОбъектОбработки.ШаблонЦенника);
Данные.Вставить("ЕдиницаДляОтчетов", ОбъектОбработки.ЕдиницаДляОтчетов);
Данные.Вставить("КоэффициентЕдиницыДляОтчетов", ОбъектОбработки.КоэффициентЕдиницыДляОтчетов);
Данные.Вставить("ШаблонЭтикетки", ОбъектОбработки.ШаблонЭтикетки);
Данные.Вставить("СезоннаяГруппа", ОбъектОбработки.СезоннаяГруппа);
Данные.Вставить("КоллекцияНоменклатуры", ОбъектОбработки.КоллекцияНоменклатуры);
Данные.Вставить("Принципал", ОбъектОбработки.Принципал);
Данные.Вставить("Контрагент", ОбъектОбработки.Контрагент);
Данные.Вставить("РейтингПродаж", ОбъектОбработки.РейтингПродаж);
Данные.Вставить("ОбособленнаяЗакупкаПродажа", ОбъектОбработки.ОбособленнаяЗакупкаПродажа);
Данные.Вставить("ГруппаАналитическогоУчета", ОбъектОбработки.ГруппаАналитическогоУчета);
Данные.Вставить("КодТНВЭД", ОбъектОбработки.КодТНВЭД);
Данные.Вставить("КодОКВЭД", ОбъектОбработки.КодОКВЭД);
Данные.Вставить("КодОКП", ОбъектОбработки.КодОКП);
Данные.Вставить("ОблагаетсяНДПИПоПроцентнойСтавке", ОбъектОбработки.ОблагаетсяНДПИПоПроцентнойСтавке);
Данные.Вставить("ВладелецСерий", ОбъектОбработки.ВладелецСерий);
Данные.Вставить("ВладелецХарактеристик", ОбъектОбработки.ВладелецХарактеристик);
Данные.Вставить("ВладелецТоварныхКатегорий", ОбъектОбработки.ВладелецТоварныхКатегорий);
Данные.Вставить("Крепость", ОбъектОбработки.Крепость);
Данные.Вставить("ОсобенностьУчета", ОбъектОбработки.ОсобенностьУчета);
Данные.Вставить("ПродукцияМаркируемаяДляГИСМ", ОбъектОбработки.ПродукцияМаркируемаяДляГИСМ);
Данные.Вставить("КиЗГИСМ", ОбъектОбработки.КиЗГИСМ);
Данные.Вставить("КиЗГИСМВид", ОбъектОбработки.КиЗГИСМВид);
Данные.Вставить("КиЗГИСМСпособВыпускаВОборот", ОбъектОбработки.КиЗГИСМСпособВыпускаВОборот);
Данные.Вставить("КиЗГИСМGTIN", ОбъектОбработки.КиЗГИСМGTIN);
Данные.Вставить("КиЗГИСМРазмер", ОбъектОбработки.КиЗГИСМРазмер);
Данные.Вставить("ПодконтрольнаяПродукцияВЕТИС", ОбъектОбработки.ПодконтрольнаяПродукцияВЕТИС);
Данные.Вставить("АлкогольнаяПродукцияВоВскрытойТаре", ОбъектОбработки.АлкогольнаяПродукцияВоВскрытойТаре);
Данные.Вставить("КодРаздел7ДекларацииНДС", ОбъектОбработки.КодРаздел7ДекларацииНДС);
Данные.Вставить("ОблагаетсяНДСУПокупателя", ОбъектОбработки.ОблагаетсяНДСУПокупателя);
Данные.Вставить("КодОКВЭД2", ОбъектОбработки.КодОКВЭД2);
Данные.Вставить("КодОКПД2", ОбъектОбработки.КодОКПД2);
Данные.Вставить("УдалитьТабачнаяПродукция", ОбъектОбработки.УдалитьТабачнаяПродукция);
Данные.Вставить("УдалитьОбувнаяПродукция", ОбъектОбработки.УдалитьОбувнаяПродукция);
Данные.Вставить("КодВидаНоменклатурнойКлассификации", ОбъектОбработки.КодВидаНоменклатурнойКлассификации);
Данные.Вставить("НаименованиеВидаНоменклатурнойКлассификации", ОбъектОбработки.НаименованиеВидаНоменклатурнойКлассификации);
Данные.Вставить("ЕдиницаИзмеренияТНВЭД", ОбъектОбработки.ЕдиницаИзмеренияТНВЭД);
Данные.Вставить("кс_IDНоменклатуры", ОбъектОбработки.кс_IDНоменклатуры);

мсвТаблица = Новый Массив;
Для Каждого текСтрока Из ОбъектОбработки.ДополнительныеРеквизиты Цикл 
		сткСтрока = Новый Структура;
		сткСтрока.Вставить("Свойство", текСтрока.Свойство);
		сткСтрока.Вставить("Значение", текСтрока.Значение);
		сткСтрока.Вставить("ТекстоваяСтрока", текСтрока.ТекстоваяСтрока);
		мсвТаблица.Добавить(сткСтрока);
КонецЦикла; 
Данные.Вставить("ДополнительныеРеквизиты", мсвТаблица);

мсвТаблица = Новый Массив;
Для Каждого текСтрока Из ОбъектОбработки.ДрагоценныеМатериалы Цикл 
		сткСтрока = Новый Структура;
		сткСтрока.Вставить("ДрагоценныйМатериал", текСтрока.ДрагоценныйМатериал);
		сткСтрока.Вставить("Количество", текСтрока.Количество);
		сткСтрока.Вставить("ЕдиницаИзмерения", текСтрока.ЕдиницаИзмерения);
		сткСтрока.Вставить("Расположение", текСтрока.Расположение);
		сткСтрока.Вставить("Комментарий", текСтрока.Комментарий);
		мсвТаблица.Добавить(сткСтрока);
КонецЦикла; 
Данные.Вставить("ДрагоценныеМатериалы", мсвТаблица);

РезультатОбработки.Body = сшпОбщегоНазначения.ПреобразоватьСтруктуруПоФормату(ФорматСообщения, Данные);
</code>
</details>

## Результат

В ходе данного руководства была проведена настройка интеграции двух баз 1с на примере справочника номенклатура. Таким образом, при изменении и записи элемента данного справочника в любой из этих двух баз приводит к изменению данного элемента в обеих базах.

Проделанные действия:
* Для каждой базы создан 1с-адаптер
* Создан класс сообщения "Номенклатура"
* Создан маршрут для сообщения класса "Номенклатура"
* Создан входящий обработчик сообщения класса "Номенклатура"
* Создан исходящий обработчик сообщения класса "Номенклатура"

[image1]: /Авторизация.PNG
[image2]: /ДеревоПроекта.PNG
[image3]: /ИнструментыРазработчика.PNG
[image4]: /Обозреватель.PNG

[image5]: /СозданиеАдаптера1с/4.JPG
[image6]: /СозданиеАдаптера1с/5.JPG

[image8]: /СозданиеАдаптера1с/3.PNG
[image9]: /СозданиеАдаптера1с/6.PNG
[image10]: /СозданиеАдаптера1с/ФайловыйАдаптерВходящаяТочка.PNG
[image11]: /СозданиеАдаптера1с/ФайловыйАдаптерИсходящаяТочка.PNG

[image12]: /СозданиеКласса/6.JPG
[image13]: /СозданиеКласса/2.PNG
[image14]: /СозданиеКласса/7.JPG
[image15]: /СозданиеКласса/4.PNG
[image16]: /СозданиеКласса/5.PNG

[image17]: /СозданиеМаршрута/1.PNG
[image18]: /СозданиеМаршрута/2.PNG
[image19]: /СозданиеМаршрута/3.PNG

[image20]: /СозданиеОбработчика/1.PNG
[image21]: /СозданиеОбработчика/2.PNG
[image22]: /СозданиеОбработчика/3.PNG
